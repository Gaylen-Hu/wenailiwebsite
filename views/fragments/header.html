<!--
 * @Author: xinyuHu hxyrkcy@outlook.com
 * @Date: 2025-11-08 13:56:54
 * @LastEditors: xinyuHu hxyrkcy@outlook.com
 * @LastEditTime: 2025-11-11 17:47:30
 * @FilePath: \myapp\apos-app\views\fragments\header.html
 * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE
-->
{% fragment header(data) %}
<header
  class="sticky top-0 z-50 bg-white bg-opacity-95 backdrop-blur-sm shadow-sm dark:bg-gray-900 dark:bg-opacity-95 dark:shadow-gray-900/40"
  data-theme-root
>
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex items-center justify-between h-16 md:h-20">
      <div class="flex items-center">
        <a class="flex items-center" href="/" data-discover="true">
          <div class="text-2xl font-bold text-blue-600">Wenaili 奈李</div>
        </a>
      </div>

      <nav class="hidden md:flex items-center space-x-8">
        <div class="relative">
          <a
            class="text-gray-700 hover:text-blue-600 font-medium text-base transition-colors duration-300 dark:text-gray-200 dark:hover:text-blue-400"
            href="/"
            data-discover="true"
          >
            首页
          </a>
        </div>

        <div class="relative" data-nav="services">
          <button
            type="button"
            class="flex items-center text-gray-700 hover:text-blue-600 font-medium text-base transition-all duration-300 dark:text-gray-200 dark:hover:text-blue-400"
            aria-haspopup="true"
            aria-expanded="false"
            data-nav-toggle="services"
          >
            服务内容
            <i
              class="fa-solid fa-chevron-down ml-1 text-xs transition-transform duration-300"
              aria-hidden="true"
            ></i>
          </button>
          <div
            class="hidden absolute top-full left-1/2 md:left-0 mt-3 md:mt-2 w-60 md:w-52 -translate-x-1/2 md:translate-x-0 bg-white rounded-xl shadow-xl border border-gray-100 py-2 dark:bg-gray-800 dark:border-gray-700"
            role="menu"
            data-nav-menu="services"
          >
            <a
              class="block px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 hover:text-blue-600 transition-colors duration-300 dark:text-gray-200 dark:hover:bg-gray-700 dark:hover:text-blue-400"
              href="/services/marketing"
              data-discover="true"
              role="menuitem"
            >
              市场部代运营
            </a>
            <a
              class="block px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 hover:text-blue-600 transition-colors duration-300 dark:text-gray-200 dark:hover:bg-gray-700 dark:hover:text-blue-400"
              href="/services/tech"
              data-discover="true"
              role="menuitem"
            >
              技术部代运营
            </a>
            <a
              class="block px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 hover:text-blue-600 transition-colors duration-300 dark:text-gray-200 dark:hover:bg-gray-700 dark:hover:text-blue-400"
              href="/services/brand"
              data-discover="true"
              role="menuitem"
            >
              品牌设计与建设
            </a>
            <a
              class="block px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 hover:text-blue-600 transition-colors duration-300 dark:text-gray-200 dark:hover:bg-gray-700 dark:hover:text-blue-400"
              href="/services/website"
              data-discover="true"
              role="menuitem"
            >
              网站建设与优化
            </a>
            <a
              class="block px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 hover:text-blue-600 transition-colors duration-300 dark:text-gray-200 dark:hover:bg-gray-700 dark:hover:text-blue-400"
              href="/services/data"
              data-discover="true"
              role="menuitem"
            >
              数据分析与运营
            </a>
            <a
              class="block px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 hover:text-blue-600 transition-colors duration-300 dark:text-gray-200 dark:hover:bg-gray-700 dark:hover:text-blue-400"
              href="/services/team"
              data-discover="true"
              role="menuitem"
            >
              数字化 AI 工具
            </a>
          </div>
        </div>

        <div class="relative">
          <a
            class="text-gray-700 hover:text-blue-600 font-medium text-base transition-colors duration-300 dark:text-gray-200 dark:hover:text-blue-400"
            href="/cases"
            data-discover="true"
          >
            成功案例
          </a>
        </div>

        <div class="relative" data-nav="news">
          <button
            type="button"
            class="flex items-center text-gray-700 hover:text-blue-600 font-medium text-base transition-all duration-300 dark:text-gray-200 dark:hover:text-blue-400"
            aria-haspopup="true"
            aria-expanded="false"
            data-nav-toggle="news"
          >
            新闻资讯
            <i class="fa-solid fa-chevron-down ml-1 text-xs transition-transform duration-300" aria-hidden="true"></i>
          </button>
          <div
            class="hidden absolute top-full left-1/2 md:left-0 mt-3 md:mt-2 w-52 -translate-x-1/2 md:translate-x-0 bg-white rounded-xl shadow-xl border border-gray-100 py-2 dark:bg-gray-800 dark:border-gray-700"
            role="menu"
            data-nav-menu="news"
          >
            <a
              class="block px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 hover:text-blue-600 transition-colors duration-300 dark:text-gray-200 dark:hover:bg-gray-700 dark:hover:text-blue-400"
              href="/news/logistics"
              data-discover="true"
              role="menuitem"
            >
              物流资讯
            </a>
            <a
              class="block px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 hover:text-blue-600 transition-colors duration-300 dark:text-gray-200 dark:hover:bg-gray-700 dark:hover:text-blue-400"
              href="/news/exhibition"
              data-discover="true"
              role="menuitem"
            >
              展会资讯
            </a>
            <a
              class="block px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 hover:text-blue-600 transition-colors duration-300 dark:text-gray-200 dark:hover:bg-gray-700 dark:hover:text-blue-400"
              href="/news/company"
              data-discover="true"
              role="menuitem"
            >
              公司新闻
            </a>
          </div>
        </div>

        <div class="relative" data-nav="about">
          <button
            type="button"
            class="flex items-center text-gray-700 hover:text-blue-600 font-medium text-base transition-all duration-300 dark:text-gray-200 dark:hover:text-blue-400"
            aria-haspopup="true"
            aria-expanded="false"
            data-nav-toggle="about"
          >
            关于我们
            <i class="fa-solid fa-chevron-down ml-1 text-xs transition-transform duration-300" aria-hidden="true"></i>
          </button>
          <div
            class="hidden absolute top-full left-1/2 md:left-0 mt-3 md:mt-2 w-48 -translate-x-1/2 md:translate-x-0 bg-white rounded-xl shadow-xl border border-gray-100 py-2 dark:bg-gray-800 dark:border-gray-700"
            role="menu"
            data-nav-menu="about"
          >
            <a
              class="block px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 hover:text-blue-600 transition-colors duration-300 dark:text-gray-200 dark:hover:bg-gray-700 dark:hover:text-blue-400"
              href="/about/intro"
              data-discover="true"
              role="menuitem"
            >
              奈李介绍
            </a>
            <a
              class="block px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 hover:text-blue-600 transition-colors duration-300 dark:text-gray-200 dark:hover:bg-gray-700 dark:hover:text-blue-400"
              href="/contact"
              data-discover="true"
              role="menuitem"
            >
              联系我们
            </a>
          </div>
        </div>

        <a
          href="tel:17367332304"
          class="flex items-center text-gray-700 hover:text-blue-600 font-medium text-base transition-colors duration-300 ml-4 pl-4 border-l border-gray-200 dark:text-gray-200 dark:hover:text-blue-400 dark:border-gray-700"
        >
          <i class="fa-solid fa-phone mr-2 text-blue-600"></i>
          17367332304
        </a>
      </nav>

      <div class="flex items-center space-x-2">
        <button
          class="hidden md:inline-flex p-2 rounded-full bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors duration-300 dark:bg-gray-800 dark:text-gray-200 dark:hover:bg-gray-700"
          aria-label="Switch to English"
        >
          EN
        </button>
        <button
          class="hidden md:inline-flex p-2 rounded-full bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors duration-300 dark:bg-gray-800 dark:text-gray-200 dark:hover:bg-gray-700"
          aria-label="切换到暗色模式"
          data-theme-toggle
        >
          <span class="inline-flex items-center justify-center">
            <i class="fa-solid fa-moon text-base dark:hidden"></i>
            <i class="fa-solid fa-sun text-base hidden dark:inline text-amber-400"></i>
          </span>
        </button>
        <button
          class="md:hidden p-2 rounded-md text-gray-700 hover:bg-gray-100 transition-colors duration-300"
          aria-label="打开菜单"
          data-mobile-menu-toggle
        >
          <i class="fa-solid fa-bars text-xl"></i>
        </button>
      </div>
    </div>
  </div>

  <div
    class="md:hidden fixed inset-0 z-40 bg-black/40 backdrop-blur-sm hidden dark:bg-black/60"
    data-mobile-menu="overlay"
  ></div>
  <div
    class="md:hidden fixed inset-y-0 right-0 z-50 w-80 max-w-[90%] bg-white shadow-2xl transform translate-x-full transition-transform duration-300 dark:bg-gray-900"
    data-mobile-menu="panel"
  >
    <div class="flex items-center justify-between px-5 py-4 border-b border-gray-100 dark:border-gray-800">
      <div class="text-xl font-semibold text-gray-900 dark:text-gray-100">菜单</div>
      <button
        type="button"
        class="p-2 rounded-full text-gray-600 hover:bg-gray-100 transition-colors duration-300 dark:text-gray-300 dark:hover:bg-gray-800"
        aria-label="关闭菜单"
        data-mobile-menu-close
      >
        <i class="fa-solid fa-xmark text-xl"></i>
      </button>
    </div>

    <nav class="px-5 py-6 space-y-4">
      <a
        class="block text-gray-800 font-medium text-base dark:text-gray-100"
        href="/"
        data-discover="true"
      >
        首页
      </a>

      <div class="border border-gray-100 rounded-lg dark:border-gray-800" data-mobile-disclosure="services">
        <button
          type="button"
          class="w-full flex items-center justify-between px-4 py-3 text-gray-800 font-medium text-base dark:text-gray-100"
          data-mobile-disclosure-toggle="services"
          aria-expanded="false"
        >
          服务内容
          <i class="fa-solid fa-chevron-down text-xs transition-transform duration-300"></i>
        </button>
        <div class="hidden border-t border-gray-100 dark:border-gray-800" data-mobile-disclosure-panel="services">
          <a class="block px-4 py-2 text-sm text-gray-600 dark:text-gray-300" href="/services/marketing" data-discover="true">
            市场部代运营
          </a>
          <a class="block px-4 py-2 text-sm text-gray-600 dark:text-gray-300" href="/services/tech" data-discover="true">
            技术部代运营
          </a>
          <a class="block px-4 py-2 text-sm text-gray-600 dark:text-gray-300" href="/services/brand" data-discover="true">
            品牌设计与建设
          </a>
          <a class="block px-4 py-2 text-sm text-gray-600 dark:text-gray-300" href="/services/website" data-discover="true">
            网站建设与优化
          </a>
          <a class="block px-4 py-2 text-sm text-gray-600 dark:text-gray-300" href="/services/data" data-discover="true">
            数据分析与运营
          </a>
          <a class="block px-4 py-2 text-sm text-gray-600 dark:text-gray-300" href="/services/team" data-discover="true">
            数字化 AI 工具
          </a>
        </div>
      </div>

      <a
        class="block text-gray-800 font-medium text-base dark:text-gray-100"
        href="/cases"
        data-discover="true"
      >
        成功案例
      </a>

      <div class="border border-gray-100 rounded-lg dark:border-gray-800" data-mobile-disclosure="news">
        <button
          type="button"
          class="w-full flex items-center justify-between px-4 py-3 text-gray-800 font-medium text-base dark:text-gray-100"
          data-mobile-disclosure-toggle="news"
          aria-expanded="false"
        >
          新闻资讯
          <i class="fa-solid fa-chevron-down text-xs transition-transform duration-300"></i>
        </button>
        <div class="hidden border-t border-gray-100 dark:border-gray-800" data-mobile-disclosure-panel="news">
          <a class="block px-4 py-2 text-sm text-gray-600 dark:text-gray-300" href="/news/logistics" data-discover="true">
            物流资讯
          </a>
          <a class="block px-4 py-2 text-sm text-gray-600 dark:text-gray-300" href="/news/exhibition" data-discover="true">
            展会资讯
          </a>
          <a class="block px-4 py-2 text-sm text-gray-600 dark:text-gray-300" href="/news/company" data-discover="true">
            公司新闻
          </a>
        </div>
      </div>

      <div class="border border-gray-100 rounded-lg dark:border-gray-800" data-mobile-disclosure="about">
        <button
          type="button"
          class="w-full flex items-center justify-between px-4 py-3 text-gray-800 font-medium text-base dark:text-gray-100"
          data-mobile-disclosure-toggle="about"
          aria-expanded="false"
        >
          关于我们
          <i class="fa-solid fa-chevron-down text-xs transition-transform duration-300"></i>
        </button>
        <div class="hidden border-t border-gray-100 dark:border-gray-800" data-mobile-disclosure-panel="about">
          <a class="block px-4 py-2 text-sm text-gray-600 dark:text-gray-300" href="/about/intro" data-discover="true">
            奈李介绍
          </a>
          <a class="block px-4 py-2 text-sm text-gray-600 dark:text-gray-300" href="/contact" data-discover="true">
            联系我们
          </a>
        </div>
      </div>

      <button
        class="w-full flex items-center justify-between px-4 py-3 bg-gray-100 rounded-lg text-gray-800 font-semibold dark:bg-gray-800 dark:text-gray-100"
        type="button"
        data-theme-toggle
        aria-label="切换到暗色模式"
      >
        <span data-theme-text>切换到暗色模式</span>
        <span class="inline-flex items-center justify-center">
          <i class="fa-solid fa-moon text-base dark:hidden"></i>
          <i class="fa-solid fa-sun text-base hidden dark:inline text-amber-400"></i>
        </span>
      </button>

      <a
        class="flex items-center justify-between px-4 py-3 bg-blue-50 rounded-lg text-blue-600 font-semibold dark:bg-blue-500/10 dark:text-blue-300"
        href="tel:17367332304"
      >
        <span>立即咨询</span>
        <span>17367332304</span>
      </a>
    </nav>
  </div>
</header>

<script data-apos-asset type="module">
  const handleDesktopDropdowns = (() => {
    const toggles = document.querySelectorAll('[data-nav-toggle]');
    if (!toggles.length) {
      return;
    }

    let activeKey = null;

    const closeMenu = (key) => {
      if (!key) {
        return;
      }
      const toggle = document.querySelector(`[data-nav-toggle="${key}"]`);
      const menu = document.querySelector(`[data-nav-menu="${key}"]`);
      if (!toggle || !menu) {
        return;
      }
      menu.classList.add('hidden');
      toggle.setAttribute('aria-expanded', 'false');
      toggle.querySelector('i')?.classList.remove('rotate-180');
    };

    const openMenu = (key) => {
      const toggle = document.querySelector(`[data-nav-toggle="${key}"]`);
      const menu = document.querySelector(`[data-nav-menu="${key}"]`);
      if (!toggle || !menu) {
        return;
      }
      menu.classList.remove('hidden');
      toggle.setAttribute('aria-expanded', 'true');
      toggle.querySelector('i')?.classList.add('rotate-180');
    };

    toggles.forEach((toggle) => {
      const key = toggle.getAttribute('data-nav-toggle');
      if (!key) {
        return;
      }

      toggle.addEventListener('click', (event) => {
        event.preventDefault();
        if (activeKey === key) {
          closeMenu(key);
          activeKey = null;
        } else {
          if (activeKey) {
            closeMenu(activeKey);
          }
          openMenu(key);
          activeKey = key;
        }
      });
    });

    document.addEventListener('click', (event) => {
      if (!activeKey) {
        return;
      }
      if (!(event.target instanceof HTMLElement)) {
        return;
      }
      const activeMenu = document.querySelector(`[data-nav="${activeKey}"]`);
      if (!activeMenu) {
        return;
      }
      if (!event.target.closest('[data-nav]') && !event.target.closest('[data-nav-menu]')) {
        closeMenu(activeKey);
        activeKey = null;
      }
    });

    window.addEventListener('resize', () => {
      if (window.innerWidth >= 768 && activeKey) {
        closeMenu(activeKey);
        activeKey = null;
      }
    });
  })();

  const handleMobileMenu = (() => {
    const openButtons = document.querySelectorAll('[data-mobile-menu-toggle]');
    const closeButton = document.querySelector('[data-mobile-menu-close]');
    const overlay = document.querySelector('[data-mobile-menu="overlay"]');
    const panel = document.querySelector('[data-mobile-menu="panel"]');

    if (!overlay || !panel) {
      return;
    }

    const openMenu = () => {
      overlay.classList.remove('hidden');
      panel.classList.remove('translate-x-full');
      document.body.classList.add('overflow-hidden');
    };

    const closeMenu = () => {
      overlay.classList.add('hidden');
      panel.classList.add('translate-x-full');
      document.body.classList.remove('overflow-hidden');
      closeAllDisclosures();
    };

    openButtons.forEach((button) => {
      button.addEventListener('click', openMenu);
    });

    closeButton?.addEventListener('click', closeMenu);
    overlay.addEventListener('click', closeMenu);

    window.addEventListener('resize', () => {
      if (window.innerWidth >= 768) {
        closeMenu();
      }
    });

    const closeAllDisclosures = () => {
      document
        .querySelectorAll('[data-mobile-disclosure-panel]')
        .forEach((panelElement) => {
          panelElement.classList.add('hidden');
        });
      document
        .querySelectorAll('[data-mobile-disclosure-toggle]')
        .forEach((toggleButton) => {
          toggleButton.setAttribute('aria-expanded', 'false');
          const icon = toggleButton.querySelector('i');
          icon?.classList.remove('rotate-180');
        });
    };

    document
      .querySelectorAll('[data-mobile-disclosure-toggle]')
      .forEach((toggleButton) => {
        const key = toggleButton.getAttribute('data-mobile-disclosure-toggle');
        if (!key) {
          return;
        }
        const panelElement = document.querySelector(
          `[data-mobile-disclosure-panel="${key}"]`
        );
        if (!panelElement) {
          return;
        }
        toggleButton.addEventListener('click', () => {
          const isOpen = toggleButton.getAttribute('aria-expanded') === 'true';
          closeAllDisclosures();
          if (!isOpen) {
            panelElement.classList.remove('hidden');
            toggleButton.setAttribute('aria-expanded', 'true');
            const icon = toggleButton.querySelector('i');
            icon?.classList.add('rotate-180');
          }
        });
      });
  })();

  const handleThemeToggle = (() => {
    const toggles = document.querySelectorAll('[data-theme-toggle]');
    if (!toggles.length) {
      return;
    }

    const THEME_STORAGE_KEY = 'wenaili-theme';
    const root = document.documentElement;
    const prefersDark = typeof window.matchMedia === 'function'
      ? window.matchMedia('(prefers-color-scheme: dark)')
      : null;

    const updateToggleState = (isDark) => {
      toggles.forEach((toggle) => {
        toggle.setAttribute('aria-label', isDark ? '切换到亮色模式' : '切换到暗色模式');
        const textTarget = toggle.querySelector('[data-theme-text]');
        if (textTarget) {
          textTarget.textContent = isDark ? '切换到亮色模式' : '切换到暗色模式';
        }
      });
    };

    const applyTheme = (theme) => {
      const isDark = theme === 'dark';
      root.classList.toggle('dark', isDark);
      root.dataset.theme = isDark ? 'dark' : 'light';
      updateToggleState(isDark);
    };

    const resolveInitialTheme = () => {
      const stored = localStorage.getItem(THEME_STORAGE_KEY);
      if (stored === 'dark' || stored === 'light') {
        return stored;
      }
      if (prefersDark?.matches) {
        return 'dark';
      }
      return 'light';
    };

    let currentTheme = resolveInitialTheme();
    applyTheme(currentTheme);

    prefersDark?.addEventListener('change', (event) => {
      const stored = localStorage.getItem(THEME_STORAGE_KEY);
      if (stored === 'dark' || stored === 'light') {
        return;
      }
      currentTheme = event.matches ? 'dark' : 'light';
      applyTheme(currentTheme);
    });

    toggles.forEach((toggle) => {
      toggle.addEventListener('click', () => {
        currentTheme = currentTheme === 'dark' ? 'light' : 'dark';
        localStorage.setItem(THEME_STORAGE_KEY, currentTheme);
        applyTheme(currentTheme);
      });
    });
  })();
</script>
{% endfragment %}