<!--
 * @Author: xinyuHu hxyrkcy@outlook.com
 * @Date: 2025-11-12 19:28:29
 * @LastEditors: xinyuHu hxyrkcy@outlook.com
 * @LastEditTime: 2025-11-12 19:31:55
 * @FilePath: \wenaili\modules\news-page\views\show.html
 * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE
-->
{% extends "layout.html" %}

{% block main %}
  {% set rawUrl = (data.page and data.page._url) or data.url or (data.req and data.req.url) or '/' %}
  {% set normalizedUrl = rawUrl or '/' %}
  {% set isEnglish = normalizedUrl == '/en' or normalizedUrl == '/en/' or '/en/' in normalizedUrl %}
  
  {% if isEnglish %}
    {% set categoryLabels = {
      'industry': 'Logistics News',
      'exhibition': 'Exhibition News',
      'company': 'Company News'
    } %}
  {% else %}
    {% set categoryLabels = {
      'industry': '物流资讯',
      'exhibition': '展会资讯',
      'company': '公司新闻'
    } %}
  {% endif %}

  <article class="py-16 bg-white dark:bg-gray-900 transition-colors">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-4xl mx-auto">
        <header class="text-center mb-10">
          <span class="inline-flex items-center px-4 py-1 rounded-full bg-blue-100 dark:bg-blue-500/20 text-blue-700 dark:text-blue-200 text-sm font-medium mb-4">
            {% if categoryLabels[data.piece.category] %}
              {{ categoryLabels[data.piece.category] }}
            {% else %}
              {% if isEnglish %}News{% else %}资讯{% endif %}
            {% endif %}
          </span>
          <h1 class="text-3xl md:text-4xl font-bold text-gray-900 dark:text-gray-100 mb-4">
            {{ data.piece.title | escape }}
          </h1>
          <div class="flex flex-wrap justify-center gap-4 text-gray-500 dark:text-gray-400 text-sm">
            {% if data.piece.publishedAt %}
              <span>
                <i class="fa-solid fa-calendar-alt mr-2"></i>{{ data.piece.publishedAt | date('YYYY-MM-DD') }}
              </span>
            {% endif %}
            {% if data.piece.author %}
              <span>
                <i class="fa-solid fa-user-pen mr-2"></i>{{ data.piece.author | escape }}
              </span>
            {% endif %}
          </div>
        </header>
       

        {% if data.piece.excerpt %}
          <section class="mb-10 bg-blue-50 dark:bg-blue-500/10 border border-blue-100 dark:border-blue-500/20 rounded-2xl p-6">
            <h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-3">导读</h2>
            <p class="text-gray-700 dark:text-gray-300 leading-relaxed">{{ data.piece.excerpt }}</p>
          </section>
        {% endif %}

        <section class="prose prose-blue max-w-none">
          {% area data.piece, 'body' %}
        </section>

        {% if data.piece.tags and data.piece.tags.length %}
          <footer class="mt-12">
            <h3 class="text-sm uppercase tracking-wide text-gray-500 dark:text-gray-400 mb-3">标签</h3>
            <ul class="flex flex-wrap gap-2">
              {% for tag in data.piece.tags %}
                <li class="px-3 py-1 bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300 rounded-full text-sm">
                  {{ tag.tag | escape }}
                </li>
              {% endfor %}
            </ul>
          </footer>
        {% endif %}
      </div>
    </div>
  </article>
{% endblock %}


