# Chart Widget for ApostropheCMS

基于原来React实现方案的通用图表组件，支持多种图表类型和美观的样式。

## 功能特性

- ✨ 支持6种图表类型：线图、柱状图、饼图、环形图、面积图、散点图
- 🎨 两种渲染引擎：ECharts（推荐）和Chart.js
- 🎯 实时数据验证和预览
- 📱 响应式设计，支持移动端
- 🎭 美观的动画效果和样式
- 🌙 支持深色模式
- ⚡ 高性能渲染

## 支持的图表类型

### 线图 (Line Chart)
```json
[
  { "name": "1月", "销售额": 12000, "利润": 8000 },
  { "name": "2月", "销售额": 15000, "利润": 10000 },
  { "name": "3月", "销售额": 18000, "利润": 12000 }
]
```

### 饼图 (Pie Chart)
```json
[
  { "name": "搜索引擎", "value": 35 },
  { "name": "社交媒体", "value": 25 },
  { "name": "官网流量", "value": 20 }
]
```

### 散点图 (Scatter Chart)
```json
[
  { "x": 10, "y": 20, "size": 5 },
  { "x": 15, "y": 25, "size": 8 }
]
```

## 配置选项

### 基础设置
- **图表类型**: 选择要创建的图表类型
- **图表库**: 选择ECharts或Chart.js作为渲染引擎
- **标题**: 图表上方显示的标题

### 数据配置
- **图表数据**: JSON格式的数据
- **X轴字段名**: 数据中用作X轴的字段名
- **Y轴字段名**: 数据中用作Y轴的字段名（多个字段用逗号分隔）

### 样式配置
- **颜色配置**: 用逗号分隔的颜色值
- **图表高度**: 图表容器的高度（像素）
- **显示图例**: 是否显示图表图例
- **显示工具提示**: 是否显示鼠标悬停提示
- **显示网格线**: 是否显示坐标网格
- **启用动画**: 是否启用图表动画
- **响应式**: 是否自适应容器尺寸

## 使用方法

1. **在Apostrophe后台添加组件**
   - 在页面编辑器中选择"图表组件"
   - 配置图表类型和相关参数

2. **配置数据**
   - 在"数据配置"选项卡中输入JSON格式的数据
   - 参考提供的格式示例

3. **自定义样式**
   - 在"样式配置"中调整颜色、尺寸等选项
   - 实时预览效果

## 与原来React实现的对比

| 功能 | React版本 | Apostrophe版本 |
|------|----------|----------------|
| 图表类型 | 线图、饼图 | 6种图表类型 |
| 渲染库 | Recharts | ECharts + Chart.js |
| 数据格式 | JavaScript对象 | JSON字符串 |
| 样式配置 | Tailwind CSS | 组件内建样式 |
| 响应式 | 手动实现 | 自动适配 |
| 管理界面 | 无 | 完整的后台管理 |

## 技术栈

- **前端框架**: Vue.js 3
- **图表库**: ECharts 6.0, Chart.js 4.4
- **样式**: Tailwind CSS
- **动画**: CSS3 + JavaScript

## 最佳实践

1. **数据格式**: 确保JSON格式正确，可以使用在线JSON验证工具
2. **颜色选择**: 为不同数据系列选择对比度合适的颜色
3. **图表高度**: 根据内容调整合适的高度，通常300-400px
4. **性能优化**: 大数据集建议使用ECharts，小数据集可以使用Chart.js
5. **移动端**: 启用响应式选项以获得最佳移动端体验

## 故障排除

### 数据格式错误
- 检查JSON语法是否正确
- 确认字段名与配置的X轴/Y轴字段匹配
- 数值型数据不要使用引号

### 图表不显示
- 检查浏览器控制台是否有错误信息
- 确认选择了正确的图表类型
- 验证数据是否为空

### 样式问题
- 清除浏览器缓存
- 检查CSS冲突
- 确认Tailwind CSS正常加载

## 更新日志

### v1.0.0
- 初始版本发布
- 支持6种图表类型
- 双渲染引擎支持
- 完整的管理界面
- 响应式设计和动画效果
